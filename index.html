<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Step Task</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Preload images
        const images = [
            'img/Stage1-rocket_A.png', 'img/Stage1-rocket_B.png', 
            'img/planet_purple.png', 'img/planet_green.png', 
            'img/Stage2-alien-green-A.png', 'img/Stage2-alien-green-B.png', 
            'img/Stage2-alien-purple-A.png', 'img/Stage2-alien-purple-B.png', 
            'img/gem-emerald.png', 'img/dirt.png'
        ];

        function preloadImages(images) {
            for (let i = 0; i < images.length; i++) {
                new Image().src = images[i];
            }
        }
        preloadImages(images);
    </script>
</head>
<body>
    <!-- <h1>Two-Step Task</h1> -->
    <div id="welcome-screen" style="display: block;">
        <h1>Welcome to the Aliens and Spaceships Game!</h1>
        <br>
        <p>You are a citizen of Earth. In recent years, Earth has run out of rare gems and minerals. As an astronaut working for Secret Government Agency (SGA), you are sent to meet with intergalactic aliens on neighboring planets to find valuable gems around the galaxy.</p>
        <p>In this game, you will earn points for each gem you find. Your mission director has allowed you 150 trips into space to collect as many valuable gems as possible. </p>
        <p>At the end of this game, you will earn a monetary bonus based on points collected during your mission. Good luck!</p>
        <p>This game takes 10-12 minutes to play. Please set aside 12 minutes for uninterrupted gameplay.</p>
        <br></br>
        <p><b><i>When you are ready to play, press any key to continue.</i></b></p>
    </div>
    <div id="instructions-screen-1" style="display: none;">
        <h1>Game Instructions</h1>
        <br>
        <p>In this game, you will make two decisions to find valuable gems. </p>
        <p>The first decision is picking a spaceship.</p>
        <p>Press LEFT ARROW or RIGHT ARROW to make your choices.</p>
        <p>More instructions to come...</p>
        <br></br>
        <p><b><i>Press any key to continue.</i></b></p>
    </div>
    <div id="instructions-screen-2" style="display: none;">
        <h1>Game Instructions</h1>
        <br>
        <p>In this game, you will make two decisions to find valuable gems. </p>
        <p>The second decision is picking an alien to talk to once you arrive at the planet.</p>
        <p>Press LEFT ARROW or RIGHT ARROW to make your choices.</p>
        <p>More instructions to come...</p>
        <br></br>
        <p><b><i>Press any key to continue.</i></b></p>
    </div>
    <div id="instructions-screen-3" style="display: none;">
        <h1>Game Instructions</h1>
        <br>
        <p>Once you return to Earth, you will make these two decisions again. </p>
        <p>You will get to go to space 150 times. </p>
        <p>Before the real game, you will have a chance to practice making decisions to maximize your reward.</p>
        <br></br>
        <p><b><i>Press any key to <u>proceed to the practice.</u></i></b></p>
    </div>
    <div id="instructions-final" style="display: none;">
        <h1>Get ready to play!</h1>
        <br>
        <p>Now is the time to play the real game. </p>
        <p>The game will take 8-10 minutes to play. </p>
        <p>You will have the opportunity to launch into space 150 times to find gems. </p>
        <p>Remember, you will earn a monetary bonus based on the number of points you earn in this game. Good luck!</p>
        <br></br>
        <p><b><i>Press any key to <u>start the real game.</u></i></b></p>
    </div>
    <div id="game-status" style="display: none;">
        <h1 id="status">Task Complete! Thank you for participating.</h1>
        <!-- insert button to play again potentially -->
    </div>
    <div id="game-display" style="display: none;">
        <div id="stage-1-options">
            <div id="stage-1-practice-instructions">
                <h1>You are on Earth, preparing for your passage into space. </h1>
                <p>To launch into space and find inter-galactic gems, choose a rocket ship to ride!</p>
                <p>Depending on which rocketship you choose, you may enter one of two planets.</p>
                <p>Choose carefully, as the same rocket may not always go to the same planet...</p>
                <p><b><i>Press LEFT ARROW for the rocket on the left. Press RIGHT ARROW for the rocket on the right.</i></b></p>
            </div>
            <div id="stage-1-main-instructions" style="display: none;">
                <h1>You are on Earth. Choose a rocket!</h1>
                <p><b><i>Press LEFT ARROW for the rocket on the left. Press RIGHT ARROW for the rocket on the right.</i></b></p>
            </div>
            <img class="rocket-img" src="img/Stage1-rocket_A.png" alt="Option X">
            <img class="rocket-img" src="img/Stage1-rocket_B.png" alt="Option Y">
        </div>
        <div id="stage-2-options" style="display:none;">
            <div id="stage-2-practice-instructions">
                <h1>You have arrived to one of the planets. </h1>
                <p>Two alien traders stand before you. To find a gem, speak with one of the aliens. <br>One of these aliens may have more (or better) gems to offer you, so make your choice carefully...</p>
                <p><b><i>Press LEFT ARROW for the alien on the left. Press RIGHT ARROW for the alien on the right.</i></b></p>
            </div>
            <div id="stage-2-main-instructions" style="display: none;">
                <h1>You have arrived to one of the planets. Choose an alien. </h1>
                <p><b><i>Press LEFT ARROW for the alien on the left. Press RIGHT ARROW for the alien on the right.</i></b></p>
            </div>
            <h1 id="reward-message" style="display:none;"></h1>       
            <div id="reward-container" >
                <img class="reward-img" id="reward-img-dirt" src="img/dirt.png" style="display:none">
                <img class="reward-img" id="reward-img-gem" src="img/gem-emerald.png" style="display:none">
            </div>
            <div id="planet-X-options" class="planet-container">
                <img class="planet-img" src="img/planet_purple.png" alt="Planet X"><br>
                <div class="alien-container">
                    <img class="alien-img" src="img/Stage2-alien-green-A.png" alt="Option A">
                    <img class="alien-img" src="img/Stage2-alien-green-B.png" alt="Option B">
                </div>
            </div>
            <div id="planet-Y-options" class="planet-container">
                <img class="planet-img" src="img/planet_green.png" alt="Planet Y"><br>
                <div class="alien-container">
                    <img class="alien-img" src="img/Stage2-alien-purple-A.png" alt="Option C">
                    <img class="alien-img" src="img/Stage2-alien-purple-B.png" alt="Option D">
                </div>
            </div>
        </div>
        <div id="task-bottom">
            <h2>Points: <span id="pointCounter">0</span></h2>
            <p>Round <span id="roundNumber">1</span></p>
        </div>
    </div>
    
    <!-- the following line fixes the "exports not defined" error on line 2 of JS file:
    https://stackoverflow.com/questions/42497479/uncaught-referenceerror-exports-is-not-defined-in-filed-generated-by-typescript -->
    <script> var exports = {}; </script> 

    <!-- regular javascript import line -->
    <script src="dist/experiment.js"></script>

    <!-- this line was suggested but results in the javascript not being read at all -->
    <!-- <script type="module" src="dist/experiment.js"></script> -->

</body>
</html>
