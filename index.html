<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Step Task</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Preload images
        const images = [
            'img/Stage1-rocket_A.png', 'img/Stage1-rocket_B.png', 
            'img/planet_purple.png', 'img/planet_green.png', 
            'img/Stage2-alien-green-A.png', 'img/Stage2-alien-green-B.png', 
            'img/Stage2-alien-purple-A.png', 'img/Stage2-alien-purple-B.png', 
            'img/gem-emerald.png', 'img/dirt.png'
        ];

        function preloadImages(images) {
            for (let i = 0; i < images.length; i++) {
                new Image().src = images[i];
            }
        }
        preloadImages(images);
    </script>
</head>
<body>
    <!-- <h1>Two-Step Task</h1> -->
    <div id="welcome-screen" style="display: block;">
        <h1>Welcome to the Spaceships and Aliens Game!</h1>
        <br>
        <p>You are a citizen of Earth. In recent years, Earth has run out of rare gems and minerals. As an astronaut working for Secret Government Agency (SGA), you are sent to meet with intergalactic aliens on neighboring planets to find valuable gems around the galaxy.</p>
        <p>In this game, you will earn points for each gem you find. Your mission director has assigned you to take 150 trips into space to collect as many valuable gems as possible. </p>
        <p>At the end of this game, you will earn a monetary bonus based on points collected during your mission. Good luck!</p>
        <p>This game takes 12-15 minutes to play. Please set aside time for uninterrupted gameplay.</p>
        <br>
        <p><b><i>When you are ready to play, press the SPACEBAR to continue.</i></b></p>
    </div>
    <div id="instructions-screen-1" style="display: none;">
        <h1>Game Instructions</h1>
        <p>In this game, you will get points from flying to alien planets and trading with alien traders. In the first stage, you will decide which rocket to use to fly to <b>one of two alien planets.</b> </p>
        <p><b>There are two rockets you can choose to ride.</b> Both rockets can take you to both planets. However, one rocket will <b>tend to</b> take you to one planet <b>most of the time</b> and the other rocket will <b>tend to</b> take you to the other planet <b>most of the time</b>. </p>
        <p>Be sure to pay attention to which rocket brings you to which planet!</p> 
        <p>Here are the two rockets you'll choose from during this stage of the game.</p>
        <span class="demo-span">
            <img class="demo-img" src="img/demo-two-planets.png" alt="Stage 1 Two Planets">
        </span>
        <p><b><i>Press the SPACEBAR to continue to the next instruction. </i></b></p>
    </div>
    <div id="instructions-screen-2" style="display: none;">
        <h1>Game Instructions</h1>
        <p>In the second stage, after landing on one of the two planets, you will need to choose which alien trader to speak to. <b>Each alien planet has two alien traders you can talk to.</b> Be aware, some aliens trade gems a lot of the time, some aliens do not have many gems and can only offer you dirt. </p>
        <p>You will have to find <b>which planet</b> and <b>which alien</b> has the most gems, but be aware that <b>this will change over time, so you need to adapt!</b> </p>
        <p>Below are the planets and aliens you might see during this stage of the game.</p>
        <span class="demo-span">
            <img class="demo-img" src="img/demo-greenplanet-aliens.png" alt="Stage 2 Green Planet Aliens">
            <img class="demo-img" src="img/demo-purpleplanet-aliens.png" alt="Stage 2 Purple Planet Aliens">
        </span>
        <p><b><i>Press the SPACEBAR to continue to the next instruction. </i></b></p>
    </div>
    <div id="instructions-screen-3" style="display: none;">
        <h1>Game Instructions</h1>
        <p>After you make your selection of alien trader, you will find out if you received a gem (+100 points) or some dirt (0 points).</p>
        <br>
        <span class="demo-span">
            <img class="demo-reward" src="img/gem-emerald.png" alt="Valuable Gem">
            <img class="demo-reward" src="img/dirt.png" alt="Dirt">
        </span>
        <br></br>
        <p>Shortly thereafter, you will return to the first stage, and make your new selections (for rockets and aliens) again. You will be making these selections for a total of 150 rounds.</p>
        <p>In total, the game will take 12-15 minutes to play. Before the real game starts, you will have a chance to play a short practice session. </p>
        <p><b><i>Press the SPACEBAR to <u>proceed to the practice session.</u></i></b></p>
    </div>
    <div id="instructions-final" style="display: none;">
        <h1>Get ready to play!</h1>
        <br>
        <p>Now is the time to play the real game. </p>
        <!-- <p>You will have the opportunity to launch into space 150 times to find gems. </p> -->
        <p>The game will take 12-15 minutes to play. Please set aside uninterrupted time to play this game.</p>
        <p>Remember, you will earn a monetary bonus based on the number of points you earn in this game. Good luck!</p>
        <br></br>
        <p><b><i>Press the SPACEBAR to <u>start the real game.</u></i></b></p>
    </div>
    <div id="game-status" style="display: none;">
        <h1 id="status">Task Complete! Thank you for participating.</h1>
        <!-- insert button to play again potentially -->
    </div>
    <div id="game-display" style="display: none;">
        <div id="stage-1-options">
            <div id="stage-1-practice-instructions">
                <!-- <h1>You are on Earth. Choose a rocket!</h1> -->
            </div>
            <div id="stage-1-main-instructions" style="display: none;">
                <!-- <h1>You are on Earth. Choose a rocket!</h1> -->
            </div>
            <img class="rocket-img" src="img/Stage1-rocket_A.png" alt="Option X">
            <img class="rocket-img" src="img/Stage1-rocket_B.png" alt="Option Y">
            <p><i>Press LEFT ARROW for the left rocket on the left. Press RIGHT ARROW for the rocket on the right.</i></p>
        </div>
        <div id="stage-2-options" style="display:none;">
            <div id="stage-2-practice-instructions">
                <!-- <h1>You have arrived to one of the planets. Choose an alien. </h1> -->
            </div>
            <div id="stage-2-main-instructions" style="display: none;">
                <!-- <h1>You have arrived to one of the planets. Choose an alien. </h1> -->
            </div>
            <div id="reward-container" >
                <img class="reward-img" id="reward-img-dirt" src="img/dirt.png" style="display:none">
                <img class="reward-img" id="reward-img-gem" src="img/gem-emerald.png" style="display:none">
                <h1 id="reward-message" style="display:none;"></h1>
            </div>
            <div id="planet-X-options" class="planet-container">
                <img class="planet-img" src="img/planet_purple.png" alt="Planet X"><br>
                <div class="alien-container">
                    <img class="alien-img" src="img/Stage2-alien-green-A.png" alt="Option A">
                    <img class="alien-img" src="img/Stage2-alien-green-B.png" alt="Option B">
                </div>
                <p><i>Press LEFT ARROW for the alien on the left. Press RIGHT ARROW for the alien on the right.</i></p>
            </div>
            <div id="planet-Y-options" class="planet-container">
                <img class="planet-img" src="img/planet_green.png" alt="Planet Y"><br>
                <div class="alien-container">
                    <img class="alien-img" src="img/Stage2-alien-purple-A.png" alt="Option C">
                    <img class="alien-img" src="img/Stage2-alien-purple-B.png" alt="Option D">
                </div>
                <p><i>Press LEFT ARROW for the alien on the left. Press RIGHT ARROW for the alien on the right.</i></p>
            </div>
        </div>
        <div id="task-bottom">
            <h2>Points: <span id="pointCounter">0</span></h2>
            <!-- <h2>Round <span id="roundNumber">1</span></h2> -->
        </div>
    </div>
    
    <!-- the following line fixes the "exports not defined" error on line 2 of JS file:
    https://stackoverflow.com/questions/42497479/uncaught-referenceerror-exports-is-not-defined-in-filed-generated-by-typescript -->
    <script> var exports = {}; </script> 

    <!-- regular javascript import line -->
    <script src="dist/experiment.js"></script>

    <!-- this line was suggested but results in the javascript not being read at all -->
    <!-- <script type="module" src="dist/experiment.js"></script> -->

</body>
</html>
